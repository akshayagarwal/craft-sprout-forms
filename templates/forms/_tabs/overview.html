
{% if groups is defined and groups|length %}

  {% set groupOptions = [
    { label: 'All Forms', value: '*' }
  ] %}
  {% for group in groups %}
    {% set groupOptions = groupOptions|merge([{ label: group.name, value: group.id }]) %}
  {% endfor %}

  {{ forms.selectField({
    first: true,
    label: "Group"|t,
    instructions: "Which group should this form be displayed in?"|t,
    id: 'groupId',
    name: 'groupId',
    options: groupOptions,
    value: groupId
  }) }}

{% endif %}

{{ forms.textField({
  first: (groups is defined and groups|length ? false : true),
  label: "Name"|t,
  instructions: "What this form will be called in the CP."|t,
  id: 'name',
  name: 'name',
  value: form.name,
  errors: form.getErrors('name'),
  autofocus: true,
  required: true,
  translatable: true
}) }}

{{ forms.textField({
  label: "Handle"|t,
  instructions: "How youâ€™ll refer to this form in the templates."|t,
  id: 'handle',
  class: 'code',
  name: 'handle',
  value: form.handle,
  errors: form.getErrors('handle'),
  required: true
}) }}

{{ forms.textField({
  label: "Redirect Page"|t,
  name: 'redirectUri',
  instructions: "Where should the user be redirected upon form submission? <i>NOTE: Leaving blank will redirect user back to the form.</i> "|t,
  placeholder: siteUrl, 
  value: (form is defined ? form.redirectUri : null),
  errors: (form is defined ? form.getErrors('redirectUri') : null)   
}) }}

{{ forms.textField({
  label: "Submit Button Text"|t,
  name: 'submitButtonText',
  instructions: "What the text in the submit button should be."|t,
  placeholder: 'Submit', 
  value: (form is defined ? form.submitButtonText : null),
  required: false,
  errors: (form is defined ? form.getErrors('submitButtonText') : null)   
}) }}

{{ forms.textField({
  label: "Title Format"|t,
  instructions: "Entry Titles are auto-generated based on the Title Format you enter here. All information contained in the Title will also be searchable. You may use the same syntax here as you would with Dynamic Titles in your Sections. (i.e. {dateCreated|date('Ymd')} {fullName})"|t,
  id: 'titleFormat',
  name: 'titleFormat',
  value: form.titleFormat,
  errors: form.getErrors('titleFormat'),
  required: true
}) }}

{{ forms.textField({
  label: "Custom Submit Action URL"|t,
  name: 'submitAction',
  instructions: "If you want to POST your form data to a third party URL, add that URL here. Currently, only fields using the same handle naming convention as Craft are supported."|t,
  placeholder: 'http://example.com/somewhere-else', 
  value: (form is defined ? form.submitAction : null),
  errors: (form is defined ? form.getErrors('submitAction') : null)   
}) }}

