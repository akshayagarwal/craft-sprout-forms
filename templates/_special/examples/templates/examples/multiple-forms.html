{% extends "sproutforms/_layout" %}

{% block content %}
	
	<h1>Output multiple forms on a single page.</h1>
	
	<p>Take a look at the code of this template to see an example with comments.  Errors and submitted values will be returned to a specific form based on it's handle.  So you can have multiple forms on one page, with custom HTML, or just being output with one line.</p>

	<hr>

	{# Prepare our error macro #}
	{% macro errorList(errors) %}
		{# To display errors, you want to make sure errors exist, 
			 and then you can loop through and display them #}
		{% if errors %}
				<ul class="errors">
						{% for error in errors %}
								<li>{{ error }}</li>
						{% endfor %}
				</ul>
		{% endif %}
	{% endmacro %}

	{% from _self import errorList %}


	<h2>Contact Form</h2>

	{# One Form can be Custom HTML #}

	<form method="post" accept-charset="utf-8">
		<input type="hidden" name="action" value="sproutForms/entries/saveEntry">
		<input type="hidden" name="handle" value="contact">

		{# Full Name Field #}
		<div class="field">
			<div class="header">
				<label for="textName">Name</label>
			</div>
			<div class="body">
				{# Custom Field handles should be named in your inputs and added in the fields[] array #}
				<input type="text" id="textName" name="fields[fullName]" autocomplete="off" {%- if contact is defined %}value="{{ contact.fullName }}"{% endif -%}>
			</div>
			{% if contact is defined %}
			<div class="error">
				{{ errorList(contact.getErrors('fullName')) }}
			</div>
			{% endif %}
		</div>


		{# Email Field #}
		<div class="field">
			<div class="header">
				<label for="textEmail">Email</label>
			</div>
			<div class="body">
				<input type="email" id="textEmail" name="fields[email]" autocomplete="off" {%- if contact is defined %}value="{{ contact.email }}"{% endif -%}>
			</div>
			{% if contact is defined %}
			<div class="error">
				{{ errorList(contact.getErrors('email')) }}
			</div>
			{% endif %}
		</div>

		{# Message Field #}
		<div class="field">
			<div class="header">
				<label for="textareaMessage">Message</label>
			</div>
			<div class="body">
				<textarea class="text nicetext fullwidth" rows="4" cols="50" id="fields-message" name="fields[message]">{%- if contact is defined %}{{ contact.message }}{% endif -%}</textarea>
			</div>
			{% if contact is defined %}
			<div class="error">
				{{ errorList(contact.getErrors('message')) }}
			</div>
			{% endif %}
		</div>

		<input type="submit" value="Submit">
		
	</form>

	<hr>

	<h2>Basic Fields Form</h2>

	{# Another Form can be output with the displayForm() tag #}

	{{ craft.sproutForms.displayForm('basic') }}

{% endblock %}