{% requirePermission "editSproutFormsSettings" %}

{% import "_includes/forms" as forms %}

{% set captchas = craft.sproutForms.getAllCaptchas() %}

{% for captcha in captchas %}

    {{ forms.lightswitchField({
        label: captcha.getName(),
        name: 'enable-' ~ captcha.captchaId,
        toggle: 'settings-' ~ captcha.captchaId,
        on: settings['enable-' ~ captcha.captchaId] ?? null,
        onLabel: "Enable"|t,
    }) }}

    {% if captcha.getCaptchaSettingsHtml()|length %}
        <div id="settings-{{ captcha.captchaId }}">
            {{ captcha.getCaptchaSettingsHtml()|raw }}
        </div>
    {% endif %}

{% endfor %}
